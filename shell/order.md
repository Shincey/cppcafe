# 命令执行顺序

如果希望在成功执行某一个命令之后再执行另一个命令，或者在一个命令失败后再执行另一个命令，可以使用`&&`和`||`。Shell还提供了在当前shell或子shell中执行一组命令的方法，即使用`()`和`{}`。

#### 使用&&

使用`&&`的一般格式为：

```shell
$ command1 && command2
```

`&&`左边的命令成功被执行（返回0）后，右边的命令才能被执行。如

```shell
$ mv /apps/bin /apps/dev/bin && rm -r /apps/bin
```

如果没有成功地将`/apps/bin`下面的内容移动到`/apps/dev/bin`下，就不会删除`/apps/bin`目录。



#### 使用||

使用`||`的一般格式为：

```SHELL
$ command1 || command2
```

如果`||`左边的命令未执行成功（返回1），那么就执行右边的命令。



#### 用()和{}将命令结合在一起

如果希望几个命令在一起执行，shell提供了两种方法，既可以在当前shell也可以在子shell中执行一组命令。

为了在当前shell中执行一组命令，可以用命令分隔符隔开每一条命令，并把所有的命令用圆括号`()`括起来。它的一般格式为：

```shell
$ (command1;command2;...)
```

如果用`{}`代替`()`，那么相应的命令将在子shell而不是当前shell中作为一个整体被执行，只有在`{}`中所有命令的输出作为一个整体被重定向时，其中的命令才被放到子shell中执行，否则在当前shell执行，它的一般格式为：

```shell
$ {command1;command2;...}
```

可以和`&&`、`||`配合使用，比如某条命令执行失败，希望执行两条命令：

```shell
$ ls dir || (echo "no"; exit)
```


